{"title":"實現Flowmap","uid":"791f4797b9f7bc6b1c27dbd08f25dd4c","slug":"GraphicQuest/GQ011 實現Flowmap","date":"2022-12-15T02:51:05.867Z","updated":"2022-12-14T14:53:23.944Z","comments":true,"path":"api/articles/GraphicQuest/GQ011 實現Flowmap.json","keywords":null,"cover":"https://cdn.discordapp.com/attachments/1032335453988335676/1051508858461364335/asia_genshin___1638974304_abc02fc9_progressive.jpg","content":"<h1 id=\"1-實現Flowmap\"><a href=\"#1-實現Flowmap\" class=\"headerlink\" title=\"1.實現Flowmap\"></a>1.實現Flowmap</h1><p>甚麼是Flowmap? 實際上可以理解成擁有流動材質的貼圖技術</p>\n<p>實際流程 (簡單版):</p>\n<ol>\n<li>下載Flowmap Painter, <a href=\"https://teckartist.com/?page_id=107\">地址</a></li>\n<li>下載以後，軟件會自帶一張水貼圖，以及可調整的向量場界面，嘗試一下軟件功能，繪製 Flowmap</li>\n<li>最後按下 “bake” 功能鍵完成 Flowmap</li>\n<li>打開Unity，放入製作好的Unity Shader，選取使用貼圖本身以及剛剛生成Flowmap</li>\n<li>完成</li>\n</ol>\n<p><img src=\"/project/pic/%E8%9E%A2%E5%B9%95%E6%93%B7%E5%8F%96%E7%95%AB%E9%9D%A2%202022-10-24%20101557.png\"></p>\n<h1 id=\"2-uv-mapping-回顧\"><a href=\"#2-uv-mapping-回顧\" class=\"headerlink\" title=\"2.uv mapping 回顧\"></a>2.uv mapping 回顧</h1><ul>\n<li>在uv座標中，每一個uv值都代表了在另一個紋理中不同的顏色值(圖)</li>\n<li>如果整張圖片都使用同一個uv值表示，我們只會採樣另一個紋理圖片的單一顏色(像素)</li>\n</ul>\n<h1 id=\"3-1-Flowmap的原理\"><a href=\"#3-1-Flowmap的原理\" class=\"headerlink\" title=\"3.1 Flowmap的原理\"></a>3.1 Flowmap的原理</h1><p>一張帶有向量場信息的紋理貼圖</p>\n<ul>\n<li>一個平面上，平面上每一個點都代表一個向量，向量方向為運動方向</li>\n<li>通過顏色(RG兩種顏色)來記錄向量方向</li>\n<li>在Shader中偏移uv，對紋理進行探樣，模擬流動效果</li>\n</ul>\n<h1 id=\"3-2-Flowmap-Shader\"><a href=\"#3-2-Flowmap-Shader\" class=\"headerlink\" title=\"3.2 Flowmap Shader\"></a>3.2 Flowmap Shader</h1><p>怎樣偏移uv?</p>\n<ol>\n<li>讓uv隨著時間偏移: uv - time<ul>\n<li>如果 uv + time 會怎麼樣?</li>\n</ul>\n</li>\n<li>從 flowmap 獲取流動方向<ul>\n<li>在此之前，要將 flowmap 上的值[0,1]投影到方向向量[-1,1] (把flowmap上的數值*2-1)，記作 flowDir</li>\n<li>flowDir.xy * time</li>\n</ul>\n</li>\n<li>讓流動無縫循環，把偏移控制在一定的範圍內（隨著時間進行，變形太過誇張）<ul>\n<li>構造兩個相位差半個週期的波形函數</li>\n<li>使用以上這兩個波形函數，製作兩層採樣，用一層的採樣去覆蓋另一層的採樣，做用循環的效果</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"4-怎麼製作類似的效果-向量場信息\"><a href=\"#4-怎麼製作類似的效果-向量場信息\" class=\"headerlink\" title=\"4. 怎麼製作類似的效果(向量場信息)?\"></a>4. 怎麼製作類似的效果(向量場信息)?</h1><p>在Wallpaper engine中，桌布製作器中擁有可以製作向量場貼圖的功能，我們可以嘗試在Wallpaper engine 製作不同的特效</p>\n","feature":null,"text":"1.實現Flowmap甚麼是Flowmap? 實際上可以理解成擁有流動材質的貼圖技術 實際流程 (簡單版): 下載Flowmap Painter, 地址 下載以後，軟件會自帶一張水貼圖，以及可調整的向量場界面，嘗試一下軟件功能，繪製 Flowmap 最後按下 “bake” 功能鍵...","link":"","photos":[],"count_time":{"symbolsCount":773,"symbolsTime":"1 mins."},"categories":[{"name":"遊戲開發筆記","slug":"遊戲開發筆記","count":15,"path":"api/categories/遊戲開發筆記.json"}],"tags":[{"name":"Computer Graphic","slug":"Computer-Graphic","count":15,"path":"api/tags/Computer-Graphic.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%AF%A6%E7%8F%BEFlowmap\"><span class=\"toc-text\">1.實現Flowmap</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-uv-mapping-%E5%9B%9E%E9%A1%A7\"><span class=\"toc-text\">2.uv mapping 回顧</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-1-Flowmap%E7%9A%84%E5%8E%9F%E7%90%86\"><span class=\"toc-text\">3.1 Flowmap的原理</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-2-Flowmap-Shader\"><span class=\"toc-text\">3.2 Flowmap Shader</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E6%80%8E%E9%BA%BC%E8%A3%BD%E4%BD%9C%E9%A1%9E%E4%BC%BC%E7%9A%84%E6%95%88%E6%9E%9C-%E5%90%91%E9%87%8F%E5%A0%B4%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">4. 怎麼製作類似的效果(向量場信息)?</span></a></li></ol>","author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"mapped":true,"prev_post":{"title":"實時環境光照：環境光照與預計算 環境光與Split Sum、PRT","uid":"a200d86f4537c56fcd6e406543954493","slug":"GraphicQuest/GQ012 實時渲染3 實時環境光照：環境光照與預計算 環境光與Split Sum、PRT","date":"2022-12-15T02:51:05.874Z","updated":"2022-12-14T14:53:28.268Z","comments":true,"path":"api/articles/GraphicQuest/GQ012 實時渲染3 實時環境光照：環境光照與預計算 環境光與Split Sum、PRT.json","keywords":null,"cover":"https://cdn.discordapp.com/attachments/1032335453988335676/1051706475367632926/FjryRYHUUAEbZPt.png","text":"實時環境光照：環境光照與預計算 環境光與Split Sum、PRT1 環境映射 Environment Mapping在《Real-Time Rendering 3rd》第八章 : Area and Environmental Lighting 中，介紹了 Environment...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"遊戲開發筆記","slug":"遊戲開發筆記","count":15,"path":"api/categories/遊戲開發筆記.json"}],"tags":[{"name":"Computer Graphic","slug":"Computer-Graphic","count":15,"path":"api/tags/Computer-Graphic.json"}],"author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"feature":null},"next_post":{"title":"實時渲染 延遲渲染 Deferred Rendering","uid":"a896efca63e04f8beb46d5e9142b43a4","slug":"GraphicQuest/GQ010 實時渲染2 延遲渲染 Deferred Rendering","date":"2022-12-15T02:51:05.862Z","updated":"2022-12-14T16:27:40.235Z","comments":true,"path":"api/articles/GraphicQuest/GQ010 實時渲染2 延遲渲染 Deferred Rendering.json","keywords":null,"cover":"https://cdn.discordapp.com/attachments/1032335453988335676/1048887478377005126/ANIME-PICTURES.NET_-_694178-2439x3421-original-tiv-single-tallimage-lookingatviewer-blush.png","text":"延遲渲染 Deferred Rendering1.1 甚麼是延遲渲染？ A single rendering pass could generate a color image in one target, object identifiers in another, and w...","link":"","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"遊戲開發筆記","slug":"遊戲開發筆記","count":15,"path":"api/categories/遊戲開發筆記.json"}],"tags":[{"name":"Computer Graphic","slug":"Computer-Graphic","count":15,"path":"api/tags/Computer-Graphic.json"}],"author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"feature":null}}