{"title":"相機與透鏡","uid":"b289c42ae875c6d0fcba6aac91ffcfc9","slug":"GraphicQuest/GQ008 相機與透鏡","date":"2022-12-14T14:00:28.000Z","updated":"2022-12-14T14:55:07.453Z","comments":true,"path":"api/articles/GraphicQuest/GQ008 相機與透鏡.json","keywords":null,"cover":"https://cdn.discordapp.com/attachments/1032335453988335676/1048076626828742726/unknown.png","content":"<h1 id=\"1-1-相機與透鏡\"><a href=\"#1-1-相機與透鏡\" class=\"headerlink\" title=\"1.1 相機與透鏡\"></a>1.1 相機與透鏡</h1><p>成像的背後都需要拍照，無論是光柵化還是光線追蹤，用合成的方法來生成光，最後使用一台相機來捕捉光</p>\n<p>因此，成像 &#x3D; 合成光 + 捕捉光</p>\n<h1 id=\"2-1-相機的組成\"><a href=\"#2-1-相機的組成\" class=\"headerlink\" title=\"2.1 相機的組成\"></a>2.1 相機的組成</h1><p>Pinholes &amp; Lenses form image on Sensor (小孔成像)<br><img src=\"/project/pic/53145295-fd4c-4843-929e-2e511cac7200.png\"></p>\n<ul>\n<li>快門控制光進入傳感器精確的曝光時間 Shutter Exposes Sensor For Precise Duration</li>\n<li>快門可以控制光進入相機傳感器的時間</li>\n<li>傳感器上每個點都會記錄來自各個方向的光的信息，所以傳感器記錄的是irradiance（輻照度，表示各種頻率輻射的總量)</li>\n</ul>\n<h2 id=\"2-2-針孔相機-Pinhole-Camera\"><a href=\"#2-2-針孔相機-Pinhole-Camera\" class=\"headerlink\" title=\"2.2 針孔相機 Pinhole Camera\"></a>2.2 針孔相機 Pinhole Camera</h2><p>針孔相機成像是沒有<strong>景深</strong>的，我們做光線追踪的時候用的也是針孔相機，所以也是無法產生景深模糊的，如果我們能模擬光線與透鏡的作用，那麼我們也可以得到有景深的畫面</p>\n<h1 id=\"3-1-視場-FOV\"><a href=\"#3-1-視場-FOV\" class=\"headerlink\" title=\"3.1 視場(FOV)\"></a>3.1 視場(FOV)</h1><p>對於固定的傳感器尺寸，減小焦距會增加視野 For a fixed sensor size, decreasing the focal length increases the field of view</p>\n<ul>\n<li>視場代表著攝像頭能夠觀察到的最大範圍，通常以角度來表示，視場越大， 觀測範圍越大。</li>\n<li>視場FOV是在攝像機的前面的寬度h和聚焦距離f，可以推出FOV。</li>\n</ul>\n<p><img src=\"/project/pic/fa4b45ab8b623dde8b2f901d96ec6a17.png\"></p>\n<p>視場與傳感器大小和焦距都有關係，所以人們通常規定以 35mm 格式膠片 (36 x 24mm) 上使用的鏡頭焦距來表示視場角 For historical reasons, it is common to refer to angular field of view by focal length of a lens used on a 35mm-format film (36 x 24mm)</p>\n<ul>\n<li>FOV關係到傳感器和鏡頭到傳感器的距離有關。</li>\n<li>改變聚焦，就改變了f，視場發生變化，拍攝同樣的畫面，獲得圖形的類型不同</li>\n<li>相同的視場調整聚焦的距離。</li>\n</ul>\n<p><img src=\"/project/pic/fb6dbc5966a3120c467f5fa867bf3f93.png\"><br><img src=\"/project/pic/c03e735679a72f7377c0d91314177442.png\"><br><img src=\"/project/pic/6bbc4854b612ef351185b535135dcce2.png\"></p>\n<h1 id=\"3-1-曝光-Exposure\"><a href=\"#3-1-曝光-Exposure\" class=\"headerlink\" title=\"3.1 曝光(Exposure)\"></a>3.1 曝光(Exposure)</h1><p>曝光度是拍攝的時間和光照幅度，照光幅度大小關係到光圈和焦距</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>H &#x3D; T x E (Exposure &#x3D; time x irradiance) 曝光時間由快門控制，irradiance由光圈與焦距決定<br>控制曝光的三要素：</p></blockquote>\n<ul>\n<li>光圈 Aperture size</li>\n<li>快門 Shutter speed</li>\n<li>感光度 ISO gain</li>\n</ul>\n<p><img src=\"/project/pic/6bbc4854b612ef351185b535135dcce2.png\"></p>\n<h2 id=\"3-2-光圈-Aperture-size-F-Stop\"><a href=\"#3-2-光圈-Aperture-size-F-Stop\" class=\"headerlink\" title=\"3.2 光圈 Aperture size (F-Stop)\"></a>3.2 光圈 Aperture size (F-Stop)</h2><p>表格對應的光圈和快門速度可以得到幾乎等效的曝光（比如光圈f4.0到f8.0光圈直徑減小到1&#x2F;2，面積變為原來的1&#x2F;4，所以快門速度相應的要補償4倍） Example: these pairs of aperture and shutter speed give equivalent exposure</p>\n<p>從4到8f的光圈，在其他不變的條件下，要是它畫面不變，那快門的時間從1&#x2F;60增大到1&#x2F;15。</p>\n<p><img src=\"/project/pic/6846851238d9d7a88fdee0f97db72a08.png\"></p>\n<p>F-Number (F-Stop):</p>\n<ul>\n<li>Written as FN or F&#x2F;N. N is the f-number</li>\n<li>在光學中，一個光學系統中的焦比（英語：f-number，或稱F值、F比例、相對孔徑、光圈值、光圈系数等，习惯上也简称「光圈」）表達鏡頭的焦距和光圈直徑大小的關係。</li>\n</ul>\n<h2 id=\"3-3-快門-Shutter-speed\"><a href=\"#3-3-快門-Shutter-speed\" class=\"headerlink\" title=\"3.3 快門 Shutter speed\"></a>3.3 快門 Shutter speed</h2><p>如果快門速度過慢，手持不穩或物體運動速度很快時容易產生運動模糊 Motion blur: handshake, subject movement</p>\n<p>運動模糊是因為快門打開的時間內物體發生了運動，傳感器會把這個過程的光線都記錄下來，並且傳感器又有平均的效果，於是產生了運動模糊，也可以從反走樣的角度理解，只不過拍照是在時間上採樣 Tip: think about anti-aliasing</p>\n<p>螺旋槳是因為快門關閉的時間不同，進來的光線在時間上差別，螺旋槳就被扭曲變形了。快門關乎到運動模糊的情況。</p>\n<p><img src=\"/project/pic/40b116df9dd05425028eb2de0724035a.png\"></p>\n<p>機械快門會產生果凍效應 Rolling shutter: different parts of photo taken at different times</p>\n<h2 id=\"3-4-感光度-ISO-gain\"><a href=\"#3-4-感光度-ISO-gain\" class=\"headerlink\" title=\"3.4 感光度 ISO gain\"></a>3.4 感光度 ISO gain</h2><p>感光度理解為在模數轉換前對信號進行的增益，相當於在對結果相乘 Multiply signal before analog-to-digital conversion</p>\n<ul>\n<li>膠片：感光度會帶來顆粒 Film: trade sensitivity for grain</li>\n<li>數碼：感光度會帶來噪點 Digital: trade sensitivity for noise<br>感光度是線性的（ISO 200需要ISO 100一半的光） Linear effect (ISO 200 needs half the light as ISO 100)</li>\n</ul>\n<p>IOS關係到光圈的大小，它的光圈越大，它獲取到的光越多。如果在環境光比較暗的地方，拉到光圈的大小提高畫面的亮度，但它也同時帶來的很多的躁點，這個有點像光子在受光的面積上面光子的不足造成的。</p>\n<p>在IOS基礎上，它乘上一個數，畫面亮度就發生改變。下面圖片展示不同亮度場景，IOS改變它們相同畫面亮度。</p>\n<p><img src=\"/project/pic/59367c5fb25e58c6b3c3257c1ff56f12.png\"></p>\n<h2 id=\"3-5-各種效果圖\"><a href=\"#3-5-各種效果圖\" class=\"headerlink\" title=\"3.5 各種效果圖\"></a>3.5 各種效果圖</h2><p><img src=\"/project/pic/5b282faf71a2316374e807a2225b7943.png\"><br><img src=\"/project/pic/1e06a27333208296f5c0b4746dec00a8.png\"><br><img src=\"/project/pic/f8f0ea2a4d8295af3f931f25637511db.png\"></p>\n<h1 id=\"4-1-透鏡\"><a href=\"#4-1-透鏡\" class=\"headerlink\" title=\"4.1 透鏡\"></a>4.1 透鏡</h1><p>現在的相機基本都有很複雜的透鏡組 Real Lens Designs Are Highly Complex</p>\n<p>現實中的的一些透鏡並不是我們假設的理想透鏡，它無法將光線會聚到一點 Real plano-convex lens (spherical surface shape). Lens does not converge rays to a point anywhere</p>\n<p>在理想透鏡 (Ideal Thin Lens) 中，進入透鏡的所有平行光線都通過其焦點 All parallel rays entering a lens pass through its focal point</p>\n<p>過一個焦點的所有光線在通過透鏡後將是平行的 All rays through a focal point will be in parallel after passing the lens</p>\n<p>焦距可以任意改變（現實種用透鏡組也可以實現） Focal length can be arbitrarily changed (in reality, yes!).</p>\n<p><img src=\"/project/pic/f8f0ea2a4d8295af3f931f25637511db.png\"></p>\n<ul>\n<li>這個是現實生活中的棱鏡，理想中的菱鏡是聚焦到一個點。</li>\n<li>平行光在棱鏡折射，經過一點，可以改變棱鏡的焦點，也就是棱鏡動態改變。</li>\n<li>光線過棱鏡的中心點是不會發生改變的，平行光過對面的焦點。</li>\n<li>研究它物距和相距關係，相似三角形的做出相似比例。</li>\n<li>通過兩個式子相同的項，化簡可以得到光圈和物距、相距之間的關係</li>\n</ul>\n<h1 id=\"5-1-景深\"><a href=\"#5-1-景深\" class=\"headerlink\" title=\"5.1 景深\"></a>5.1 景深</h1><p>這裡不作過多介紹，不常見</p>\n<h1 id=\"提高內容\"><a href=\"#提高內容\" class=\"headerlink\" title=\"提高內容\"></a>提高內容</h1><ol>\n<li>景深推導</li>\n</ol>\n<details>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1></details>\n","feature":null,"text":"1.1 相機與透鏡成像的背後都需要拍照，無論是光柵化還是光線追蹤，用合成的方法來生成光，最後使用一台相機來捕捉光 因此，成像 &#x3D; 合成光 + 捕捉光 2.1 相機的組成Pinholes &amp; Lenses form image on Sensor (小孔成像) 快...","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"遊戲開發筆記","slug":"遊戲開發筆記","count":15,"path":"api/categories/遊戲開發筆記.json"}],"tags":[{"name":"Computer Graphic","slug":"Computer-Graphic","count":15,"path":"api/tags/Computer-Graphic.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-1-%E7%9B%B8%E6%A9%9F%E8%88%87%E9%80%8F%E9%8F%A1\"><span class=\"toc-text\">1.1 相機與透鏡</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-1-%E7%9B%B8%E6%A9%9F%E7%9A%84%E7%B5%84%E6%88%90\"><span class=\"toc-text\">2.1 相機的組成</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E9%87%9D%E5%AD%94%E7%9B%B8%E6%A9%9F-Pinhole-Camera\"><span class=\"toc-text\">2.2 針孔相機 Pinhole Camera</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-1-%E8%A6%96%E5%A0%B4-FOV\"><span class=\"toc-text\">3.1 視場(FOV)</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-1-%E6%9B%9D%E5%85%89-Exposure\"><span class=\"toc-text\">3.1 曝光(Exposure)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-2-%E5%85%89%E5%9C%88-Aperture-size-F-Stop\"><span class=\"toc-text\">3.2 光圈 Aperture size (F-Stop)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-3-%E5%BF%AB%E9%96%80-Shutter-speed\"><span class=\"toc-text\">3.3 快門 Shutter speed</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-4-%E6%84%9F%E5%85%89%E5%BA%A6-ISO-gain\"><span class=\"toc-text\">3.4 感光度 ISO gain</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-5-%E5%90%84%E7%A8%AE%E6%95%88%E6%9E%9C%E5%9C%96\"><span class=\"toc-text\">3.5 各種效果圖</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-1-%E9%80%8F%E9%8F%A1\"><span class=\"toc-text\">4.1 透鏡</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#5-1-%E6%99%AF%E6%B7%B1\"><span class=\"toc-text\">5.1 景深</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%8F%90%E9%AB%98%E5%85%A7%E5%AE%B9\"><span class=\"toc-text\">提高內容</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li></ol>","author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"mapped":true,"prev_post":{"title":"傳統光照模型詳解","uid":"a993952f98b295ed6db3d1a544a2ca1d","slug":"GraphicQuest/GQ004 傳統光照模型詳解","date":"2022-12-14T14:00:28.000Z","updated":"2022-12-14T14:56:51.710Z","comments":true,"path":"api/articles/GraphicQuest/GQ004 傳統光照模型詳解.json","keywords":null,"cover":"https://cdn.discordapp.com/attachments/1032335453988335676/1042735649947656212/FQN1S51VgAMsSZa.jpg","text":"傳統光照模型詳解光照模型分類: 基於物理的光照模型（PBR）（有可依據的公式） 經驗模型（近似、模擬） 局部光照的定義:只考慮光源的影響，不考慮光線多次反射 （對應的概念：全局光照&#x3D;直接光照+間接光照） 局部光照模型內容的分類: 局部光照模型滿足疊加原理，可分為四個部分...","link":"","photos":[],"count_time":{"symbolsCount":"6.1k","symbolsTime":"6 mins."},"categories":[{"name":"遊戲開發筆記","slug":"遊戲開發筆記","count":15,"path":"api/categories/遊戲開發筆記.json"}],"tags":[{"name":"Computer Graphic","slug":"Computer-Graphic","count":15,"path":"api/tags/Computer-Graphic.json"}],"author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"feature":null},"next_post":{}}