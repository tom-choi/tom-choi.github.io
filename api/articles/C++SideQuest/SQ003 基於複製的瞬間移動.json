{"title":"基於複製的瞬間移動","uid":"db49cb760e7bb4ed8d0d9d5c7a050118","slug":"C++SideQuest/SQ003 基於複製的瞬間移動","date":"2022-12-14T14:00:28.000Z","updated":"2022-12-14T16:43:07.092Z","comments":true,"path":"api/articles/C++SideQuest/SQ003 基於複製的瞬間移動.json","keywords":null,"cover":"https://images-ext-2.discordapp.net/external/if_hj7xqlqmsezuLRYX8Gn6tPrgKdWNWx9pysspDYCc/https/pbs.twimg.com/media/FiPa7ePaYAAGWVn.jpg?width=807&height=1001","content":"<h2 id=\"支線任務3\"><a href=\"#支線任務3\" class=\"headerlink\" title=\"支線任務3\"></a>支線任務3</h2><h2 id=\"基於複製的瞬間移動\"><a href=\"#基於複製的瞬間移動\" class=\"headerlink\" title=\"基於複製的瞬間移動\"></a>基於複製的瞬間移動</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>忒修斯之船<br>如果忒修斯的船上的木頭逐漸被替換，直到所有的木頭都不是原來的木頭，那這艘船還是原來的那艘船嗎？</p></blockquote>\n<p>我們來重新複習c++裡的構造函數，來定義一個班級Class吧</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">enum GENDER&#123;\n    Male,\n    Female\n&#125;;\n\nclass Student&#123;\n    std::string id_; &#x2F;&#x2F;學號\n    std::string name_; &#x2F;&#x2F;名字\n    GENDER gen_; &#x2F;&#x2F;性別\n&#125;;\n\nclass StClass&#123;\n    Student stu_[5]; &#x2F;&#x2F;五個人的班級\n&#125;;\n\nStClass class_A; &#x2F;&#x2F; 構造班級A\n</code></pre>\n<p>太好了，假設我們已經把班級A裡的學生以及他們的屬性都設定好了</p>\n<p>現在我想要把班級A裡的學生移動到新建立的班級B，要怎麼做呢?</p>\n<p>那不簡單嗎?直接寫個新的class構造函數不就好了</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">class StClass&#123;\npublic:\n    StClass(const StClass&amp; r)\n    &#123;\n        for (size_t i &#x3D; 0; i &lt; 5 ; ++i)\n        &#123;\n            stu_[i] &#x3D; r.stu_[i];\n        &#125;\n    &#125;\n    Student stu_[5]; &#x2F;&#x2F;五個人的班級\n&#125;;\n\nStClass class_A; &#x2F;&#x2F; 構造班級A\n&#x2F;&#x2F;... 設定屬性\nStClass class_B(class_A); &#x2F;&#x2F; &quot;移動&quot;班級A到班級B\n</code></pre>\n<p>有注意到我們是怎麼”移動”班級A的同學到班級B的嗎?</p>\n<h1 id=\"解答\"><a href=\"#解答\" class=\"headerlink\" title=\"解答\"></a>解答</h1><p>實際上現在在班級B裡的同學全部都是班級A同學的”複製人”，這樣的構造函數我們稱作copy constructor。</p>\n<p>那麼怎麼和編譯器說我們是真的要搬移一個物件的內容而不是複製呢?我們可以使用 C++11 中的 Move semantics 和 右值引用 來進行實現搬移操作</p>\n<p>以後想要移動目標數據就再也不需要先複製一份數據再輸出出去了!</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">class StClass&#123;\npublic:\n    &#x2F;&#x2F;move constructor\n    StClass(const StClass&amp;&amp; r)\n    &#123;\n        for (size_t i &#x3D; 0; i &lt; 5 ; ++i)\n        &#123;\n            stu_[i] &#x3D; std::move(r.stu_[i]);\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;copy constructor\n    StClass(const StClass&amp; r)\n    &#123;\n        for (size_t i &#x3D; 0; i &lt; 5 ; ++i)\n        &#123;\n            stu_[i] &#x3D; r.stu_[i];\n        &#125;\n    &#125;\n    Student stu_[5]; &#x2F;&#x2F;五個人的班級\n&#125;;\n\nStClass class_A; &#x2F;&#x2F; 構造班級A\n&#x2F;&#x2F;... 設定屬性\nStClass class_B(std::move(class_A)); &#x2F;&#x2F; 移動班級A到班級B\n</code></pre>\n\n<h1 id=\"備忘\"><a href=\"#備忘\" class=\"headerlink\" title=\"備忘\"></a>備忘</h1><p>可以前往SideQuestCode資料夾找到示例代碼</p>\n","feature":null,"text":"支線任務3基於複製的瞬間移動 忒修斯之船如果忒修斯的船上的木頭逐漸被替換，直到所有的木頭都不是原來的木頭，那這艘船還是原來的那艘船嗎？ 我們來重新複習c++裡的構造函數，來定義一個班級Class吧 enum GENDER&#123; Male, Female &#125;; cl...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"C/C++筆記","slug":"C-C-筆記","count":5,"path":"api/categories/C-C-筆記.json"}],"tags":[{"name":"C++","slug":"C","count":5,"path":"api/tags/C.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%94%AF%E7%B7%9A%E4%BB%BB%E5%8B%993\"><span class=\"toc-text\">支線任務3</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%96%BC%E8%A4%87%E8%A3%BD%E7%9A%84%E7%9E%AC%E9%96%93%E7%A7%BB%E5%8B%95\"><span class=\"toc-text\">基於複製的瞬間移動</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E7%AD%94\"><span class=\"toc-text\">解答</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%82%99%E5%BF%98\"><span class=\"toc-text\">備忘</span></a>","author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"mapped":true,"prev_post":{"title":"神寄的ASCII碼","uid":"d19b343b2530697581da27d289c3281f","slug":"C++SideQuest/SQ002 神寄的ASCII碼","date":"2022-12-14T14:00:28.000Z","updated":"2022-12-14T16:43:07.092Z","comments":true,"path":"api/articles/C++SideQuest/SQ002 神寄的ASCII碼.json","keywords":null,"cover":"https://images-ext-2.discordapp.net/external/zhXgArubreAgTXm3YViD1wz8d7Enp25eEHPbzrnJQEI/https/pbs.twimg.com/media/FiPYzwfVUAAfH8-.jpg","text":"支線任務2神寄的ASCII碼在以下代碼中，在strig[]中字符數組中，存放著’→’，目標是輸出當前符號的ASCII碼 解釋一下為何strig[]明明只存在一個符號，卻可以輸出兩個完全不一樣的ASCII碼? int main() &#123; char strig[] &#x3D...","link":"","photos":[],"count_time":{"symbolsCount":743,"symbolsTime":"1 mins."},"categories":[{"name":"C/C++筆記","slug":"C-C-筆記","count":5,"path":"api/categories/C-C-筆記.json"}],"tags":[{"name":"C++","slug":"C","count":5,"path":"api/tags/C.json"}],"author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"feature":null},"next_post":{"title":"速通LeetCode水題一百道","uid":"0b051e637dda72e2ba4a48d953610695","slug":"C++SideQuest/SQ005 速通LeetCode水題一百道","date":"2022-12-14T14:00:28.000Z","updated":"2022-12-14T14:49:13.585Z","comments":true,"path":"api/articles/C++SideQuest/SQ005 速通LeetCode水題一百道.json","keywords":null,"cover":"https://pbs.twimg.com/media/FiJ11x1VIAE7ZA9.jpg","text":"速通LeetCode水題一百道刷完這下面的99道Leetcode題，就算入門C++&#x2F;Python了(leetcode.cn) 2235. 两整数相加 剑指 Offer II 072. 求平方根 69. x 的平方根 367. 有效的完全平方数 剑指 Offer 16. ...","link":"","photos":[],"count_time":{"symbolsCount":545,"symbolsTime":"1 mins."},"categories":[{"name":"C/C++筆記","slug":"C-C-筆記","count":5,"path":"api/categories/C-C-筆記.json"}],"tags":[{"name":"C++","slug":"C","count":5,"path":"api/tags/C.json"}],"author":{"name":"tom_ci","slug":"blog-author","avatar":"https://cdn.discordapp.com/attachments/894788659356794880/1052779378314059846/AOh14GhDhRBs5Io0sk5AfsOAZLWzpaTSlQQbTaye9fiGhQs432-p-rw-no.png","link":"/","description":"tom_ci，也可以叫我CI，tom，ic，湯姆希艾或者是湯姆，艾希，Macau SMP現任群主。","socials":{"github":"https://github.com/tom-choi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"discord":{"icon":"/svg/discord.svg","link":"https://discord.gg/Ua2njAfQCN"}}}},"feature":null}}